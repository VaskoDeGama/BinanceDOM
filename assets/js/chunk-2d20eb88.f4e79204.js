(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20eb88"],{b125:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"binance-snapshot"},[e("h2",{staticClass:"binance-snapshot__symbol-type"},[t._v("Symbol type: "+t._s(t.symbol))]),t.snapshot.bids?e("div",{staticClass:"binance-snapshot__wrapper"},[e("Table",{attrs:{items:t.snapshot.bids}},[t._v("Bid")]),e("Table",{attrs:{items:t.snapshot.asks}},[t._v("Ask")])],1):e("div",{staticClass:"binance-snapshot__wrapper"},[e("PreLoader")],1)])},n=[],r=(e("4de4"),e("5530")),i=(e("96cf"),e("1da1")),l=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"tableContainer"},[e("table",{staticClass:"table"},[e("caption",{staticClass:"table__caption"},[t._t("default")],2),t._m(0),e("tbody",{staticClass:"table__body"},t._l(t.items,(function(s,a){return e("tr",{key:"t"+a,staticClass:"table__row"},[e("td",{},[t._v(t._s(s[0]))]),e("td",{},[t._v(t._s(s[1]))]),e("td",{staticClass:"table__row--hidden"},[t._v(t._s(s[0]*s[1]))])])})),0)])])},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",{staticClass:"table__head"},[e("tr",{staticClass:"table__row"},[e("th",{},[t._v("Price")]),e("th",{},[t._v("Ammount")]),e("th",{staticClass:"table__row--hidden "},[t._v("Total")])])])}],c={name:"Table",props:["items"]},u=c,b=e("2877"),d=Object(b["a"])(u,l,o,!1,null,null,null),p=d.exports,h=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("div",{staticClass:"lds-dual-ring"})])}],m={name:"PreLoader"},v=m,f=Object(b["a"])(v,h,_,!1,null,null,null),k=f.exports,w=e("ed08"),y={name:"BinanceSnapshot",components:{Table:p,PreLoader:k},data:function(){return{symbol:"BTCUSDT",snapshot:{bids:null,asks:null,lastUpdateId:null},socket:null}},comments:{Table:p},methods:{getSnapshot:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var e,a,n,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,t.$get(t.symbol,500);case 3:e=s.sent,a=e.data,n=a.bids,r=a.asks,i=a.lastUpdateId,t.snapshot.asks=r.reverse(),t.snapshot.bids=n.reverse(),t.snapshot.lastUpdateId=i,s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})))()},socketSubscribe:function(){var t=this;this.socket=this.$subscribe(this.symbol),this.socket.onmessage=function(s){var e=JSON.parse(s.data);if(t.snapshot.lastUpdateId<=e["u"]){var a=[e.a.filter((function(t){return 0!=t[1]})),e.b.filter((function(t){return 0!=t[1]}))],n=a[0],i=a[1],l=Object(w["c"])(t.snapshot.asks,n.reverse()),o=Object(w["c"])(t.snapshot.bids,i.reverse());t.snapshot=Object(r["a"])(Object(r["a"])({},t.snapshot),{},{asks:l,bids:o,lastUpdateId:e["u"]});var c=t.symbol;t.$bus.$emit("diff",{type:"diff",asksAdd:n,bidsAdd:i,symbol:c})}}}},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSnapshot();case 2:this.socketSubscribe(),this.$bus.$on("changeSymbol",(function(t){var e=t.symbol;s.snapshot={asks:null,bids:null},s.symbol=e,s.getSnapshot(),s.socket.close(),s.socketSubscribe()}));case 4:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}()},C=y,g=Object(b["a"])(C,a,n,!1,null,null,null);s["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d20eb88.f4e79204.js.map